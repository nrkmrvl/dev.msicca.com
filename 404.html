<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404 - Error de Sistema | MSICCA</title>
    <!-- Importamos tus estilos base para mantener consistencia -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="retro.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap');
        
        :root {
            --term-bg: #0a0a0a;
            --term-border: #22d3d3; /* Color accent de tus estilos */
        }

        body {
            background-color: var(--term-bg);
            color: #f5f5f5;
            font-family: 'Fira Code', monospace;
            overflow: hidden;
        }

        .terminal-window {
            border: 2px solid var(--term-border);
            box-shadow: 0 0 20px rgba(34, 211, 211, 0.2);
            background: rgba(10, 10, 10, 0.95);
        }

        .cursor {
            display: inline-block;
            width: 10px;
            height: 1.2em;
            background: var(--term-border);
            animation: blink 1s step-end infinite;
            vertical-align: middle;
        }

        @keyframes blink {
            50% { opacity: 0; }
        }

        .output-line {
            opacity: 0;
            transform: translateY(5px);
            animation: fadeIn 0.3s forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; transform: translateY(0); }
        }

        .command-prompt::before {
            content: "dev@msicca:~$ ";
            color: var(--term-border);
            font-weight: bold;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div class="max-w-4xl w-full">
        <header class="mb-6 opacity-80">
            <h1 class="text-2xl font-bold tracking-tighter text-white">STATUS: <span class="text-red-500">FAILED</span></h1>
        </header>

        <main class="terminal-window rounded-none md:rounded-lg overflow-hidden">
            <!-- Barra superior estilo Retro -->
            <div class="bg-[#1a1a1a] border-b border-[#333] px-4 py-3 flex justify-between items-center">
                <div class="flex gap-2">
                    <div class="w-3 h-3 rounded-full bg-red-500/50"></div>
                    <div class="w-3 h-3 rounded-full bg-amber-500/50"></div>
                    <div class="w-3 h-3 rounded-full bg-emerald-500/50"></div>
                </div>
                <span class="text-[10px] uppercase tracking-widest text-slate-500">dev.msicca-v2.5-debugger</span>
            </div>

            <!-- Area de Consola Animada -->
            <div class="p-6 text-sm md:text-base min-h-[400px]" id="terminal-body">
                <div id="lines-container" class="space-y-1">
                    <!-- Las líneas se insertarán aquí por JS -->
                </div>
                <div class="mt-2">
                    <span id="current-prompt" class="command-prompt"></span><span id="typing-area"></span><span class="cursor"></span>
                </div>
            </div>
        </main>

        <footer class="mt-6 flex flex-col md:flex-row justify-between items-center gap-4 text-[10px] text-slate-600 uppercase tracking-widest">
            <div>© 2024 MSICCA DEVELOPER TEAM</div>
            <div class="flex gap-4">
                <a href="/" class="hover:text-cyan-400 transition-colors underline">Return to Root</a>
                <span>Node: dev.msicca.com</span>
            </div>
        </footer>
    </div>

    <script>
        const container = document.getElementById('lines-container');
        const typingArea = document.getElementById('typing-area');
        
        const script = [
            { type: 'command', text: 'check-integrity --verbose --path="current_url"' },
            { type: 'output', text: '[!] CRITICAL: ERROR_404. Resource not found. Logical link broken.', color: 'text-red-500 font-bold' },
            { type: 'pause', ms: 800 },
            { type: 'command', text: 'find-alternatives --status=active' },
            { type: 'output', text: 'Scanning data cluster by valid paths...', color: 'text-slate-400 italic' },
            { type: 'pause', ms: 500 },
            { type: 'output', text: '➜ [OK] /home (Main entry point)', color: 'text-cyan-400', link: '/' },
            { type: 'output', text: '➜ [OK] /projects (Project Repository)', color: 'text-cyan-400', link: '/projects' },
            { type: 'output', text: '➜ [OK] /contact (Direct communication link)', color: 'text-cyan-400', link: '/contact' },
            { type: 'command', text: '' } // Deja el prompt final vacío
        ];

        async function typeText(text) {
            for (let char of text) {
                typingArea.textContent += char;
                await new Promise(r => setTimeout(r, 40 + Math.random() * 40));
            }
        }

        async function runDiagnostic() {
            for (const step of script) {
                if (step.type === 'command') {
                    await typeText(step.text);
                    await new Promise(r => setTimeout(r, 600));
                    
                    const line = document.createElement('div');
                    line.className = 'command-prompt';
                    line.textContent = step.text;
                    container.appendChild(line);
                    typingArea.textContent = '';
                } 
                else if (step.type === 'output') {
                    const line = document.createElement('div');
                    line.className = `output-line ${step.color || ''}`;
                    
                    if (step.link) {
                        const a = document.createElement('a');
                        a.href = step.link;
                        a.textContent = step.text;
                        a.className = "hover:underline cursor-pointer";
                        line.appendChild(a);
                    } else {
                        line.textContent = step.text;
                    }
                    
                    container.appendChild(line);
                    await new Promise(r => setTimeout(r, 200));
                }
                else if (step.type === 'pause') {
                    await new Promise(r => setTimeout(r, step.ms));
                }
            }
        }

        // Iniciar cuando cargue el DOM
        window.addEventListener('load', () => {
            setTimeout(runDiagnostic, 500);
        });
    </script>
</body>
</html>